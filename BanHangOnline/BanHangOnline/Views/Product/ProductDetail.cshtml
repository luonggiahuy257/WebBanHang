@using BanHangOnline.ViewModels
@model dynamic

@{
    ViewData["Title"] = "Chi tiết sản phẩm";
}


<div class="section_bg">
    <div class="container">
        <!--breadcrumbs area start-->
        <div class="breadcrumbs_area">
            <div class="row">
                <div class="col-12">
                    <div class="breadcrumb_content">
                        <ul>
                            <li><a href="/home">Trang chủ</a></li>
                            <li>Chi tiết sản phẩm</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!--breadcrumbs area end-->
        <!--product details start-->
        <div class="product_details mb-60">
            <div class="row">
                <div class="col-lg-5 col-md-5">
                    <div class="product-details-tab">
                        <div id="img-1" class="zoomWrapper single-zoom">

                            <a href="#">
                                <img id="zoom1" src="@Model.productImage.FilePath" data-zoom-image="@Model.productImage.FilePath" alt="@Model.productImage.FileName">
                            </a>
                        </div>
                        <div class="single-zoom-thumb">
                            <ul class="s-tab-zoom owl-carousel single-product-active" id="gallery_01">

                                @foreach (ProductImageViewModel itemImages in Model.productImages)
                                {
                                    <li>
                                        <a href="#" class="elevatezoom-gallery active" data-update="" data-image="@itemImages.FilePath" data-zoom-image="@itemImages.FilePath">
                                            <img src="@itemImages.FilePath" alt="@itemImages.FileName" />
                                        </a>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                </div>


                <div class="col-lg-7 col-md-7">
                    <div class="product_d_right">
                        <form asp-route="addcart"  asp-route-id="@Model.Products.Id">
                            <div class="productd_title_nav">
                                <h1 title="@Model.Products.ProductName">@Model.Products.ProductName</h1>
                            </div>

                            <div class=" product_ratting">
                                <ul>
                                    <li><a href="#"><i class="ion-android-star"></i></a></li>
                                    <li><a href="#"><i class="ion-android-star"></i></a></li>
                                    <li><a href="#"><i class="ion-android-star"></i></a></li>
                                    <li><a href="#"><i class="ion-android-star"></i></a></li>
                                    <li><a href="#"><i class="ion-android-star"></i></a></li>
                                    <li class="review"><a href="#"> (customer review ) </a></li>
                                </ul>
                            </div>
                            <div class="price_box">
                                <span class="old_price">@Model.Products.RetailPrice.ToString("n0") đ</span>
                                <span class="current_price">@Model.Products.SalePrice.ToString("n0") đ</span>
                            </div>
                            <div class="product_desc">
                                <p>@Model.Products.ShortDescription</p>
                            </div>
                            @if (string.IsNullOrEmpty(Model.Products.Color) == false)
                            {
                                var ColorList = Model.Products.Color.Split(",");
                                <div class="product_variant size">
                                    <label>Color</label>
                                    <select class="select_option" id="color2" name="Color">

                                        @foreach (var item in ColorList)
                                        {
                                            <option value="@item">@item</option>
                                        }
                                    </select>
                                </div>
                            }
                            @if (string.IsNullOrEmpty(Model.Products.Size) == false)
                            {
                                var SizeList = Model.Products.Size.Split(",");

                                <div class="product_variant size">
                                    <label>Size</label>
                                    <select class="select_option" id="color2" name="Size">
                                        @foreach (var item in SizeList)
                                        {
                                            <option value="@item">@item</option>
                                        }
                                    </select>
                                </div>
                            }

                            <div class="product_variant quantity">
                                <label>quantity</label>
                                <input min="1" max="100" value="1" type="number" name="Quantity">
                                <button class="button"  title="Đặt Hàng" type="submit">Đặt Hàng</button>

                            </div>
                            @*<div class=" product_d_action">
                            <ul>
                            <li><a href="#" title="Add to wishlist">+ Add to Wishlist</a></li>
                            <li><a href="#" title="Add to wishlist">+ Compare</a></li>
                            </ul>
                            </div>*@

                        </form>

                        @* <div class="product_d_meta">
                        <span>SKU: N/A</span>
                        <span>Category: <a href="#">Clothings</a></span>
                        <span>
                        Tags:
                        <a href="#">Creams</a>
                        <a href="#">Lotions</a>
                        </span>
                        </div>
                        <div class="priduct_social">
                        <ul>
                        <li><a class="facebook" href="#" title="facebook"><i class="fa fa-facebook"></i> Like</a></li>
                        <li><a class="twitter" href="#" title="twitter"><i class="fa fa-twitter"></i> tweet</a></li>
                        <li><a class="pinterest" href="#" title="pinterest"><i class="fa fa-pinterest"></i> save</a></li>
                        <li><a class="google-plus" href="#" title="google +"><i class="fa fa-google-plus"></i> share</a></li>
                        <li><a class="linkedin" href="#" title="linkedin"><i class="fa fa-linkedin"></i> linked</a></li>
                        </ul>
                        </div>*@
                    </div>
                </div>
            </div>
        </div>
        <!--product details end-->
        <!--product info start-->
        <div class="product_d_info mb-60">
            <div class="row">
                <div class="col-12">
                    <div class="product_d_inner">
                        <div class="product_info_button">
                            <ul class="nav" role="tablist">
                                <li>
                                    <a class="active" data-bs-toggle="tab" href="#info" role="tab" aria-controls="info" aria-selected="false">Mô tả chi tiết</a>
                                </li>
                                <li>
                                    <a data-bs-toggle="tab" href="#sheet" role="tab" aria-controls="sheet" aria-selected="false">Specification</a>
                                </li>
                                <li>
                                    <a data-bs-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="false">Reviews (1)</a>
                                </li>
                            </ul>
                        </div>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="info" role="tabpanel">
                                <div class="product_info_content">
                               <p>@Model.Products.Description</p>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="sheet" role="tabpanel">
                                <div class="product_d_table">
                                    <form action="#">
                                        <table>
                                            <tbody>
                                                <tr>
                                                    <td class="first_child">Compositions</td>
                                                    <td>Polyester</td>
                                                </tr>
                                                <tr>
                                                    <td class="first_child">Styles</td>
                                                    <td>Girly</td>
                                                </tr>
                                                <tr>
                                                    <td class="first_child">Properties</td>
                                                    <td>Short Dress</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </form>
                                </div>
                                <div class="product_info_content">
                                    <p>Fashion has been creating well-designed collections since 2010. The brand offers feminine designs delivering stylish separates and statement dresses which have since evolved into a full ready-to-wear collection in which every item is a vital part of a woman's wardrobe. The result? Cool, easy, chic looks with youthful elegance and unmistakable signature style. All the beautiful pieces are made in Italy and manufactured with the greatest attention. Now Fashion extends to a range of accessories including shoes, hats, belts and more!</p>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="reviews" role="tabpanel">
                                <div class="reviews_wrapper">
                                    <h2>1 review for Donec eu furniture</h2>
                                    <div class="reviews_comment_box">
                                        <div class="comment_thmb">
                                            <img src="~/Content/Shop/assets/img/blog/comment2.jpg" alt="">
                                        </div>
                                        <div class="comment_text">
                                            <div class="reviews_meta">
                                                <div class="star_rating">
                                                    <ul>
                                                        <li><a href="#"><i class="ion-android-star"></i></a></li>
                                                        <li><a href="#"><i class="ion-android-star"></i></a></li>
                                                        <li><a href="#"><i class="ion-android-star"></i></a></li>
                                                        <li><a href="#"><i class="ion-android-star"></i></a></li>
                                                        <li><a href="#"><i class="ion-android-star"></i></a></li>
                                                    </ul>
                                                </div>
                                                <p><strong>admin </strong>- September 12, 2018</p>
                                                <span>roadthemes</span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="comment_title">
                                        <h2>Add a review </h2>
                                        <p>Your email address will not be published.  Required fields are marked </p>
                                    </div>
                                    <div class="product_ratting mb-10">
                                        <h3>Your rating</h3>
                                        <ul>
                                            <li><a href="#"><i class="ion-android-star"></i></a></li>
                                            <li><a href="#"><i class="ion-android-star"></i></a></li>
                                            <li><a href="#"><i class="ion-android-star"></i></a></li>
                                            <li><a href="#"><i class="ion-android-star"></i></a></li>
                                            <li><a href="#"><i class="ion-android-star"></i></a></li>
                                        </ul>
                                    </div>
                                    <div class="product_review_form">
                                        <form action="#">
                                            <div class="row">
                                                <div class="col-12">
                                                    <label for="review_comment">Your review </label>
                                                    <textarea name="comment" id="review_comment"></textarea>
                                                </div>
                                                <div class="col-lg-6 col-md-6">
                                                    <label for="author">Name</label>
                                                    <input id="author" type="text">

                                                </div>
                                                <div class="col-lg-6 col-md-6">
                                                    <label for="email">Email </label>
                                                    <input id="email" type="text">
                                                </div>
                                            </div>
                                            <button type="submit">Submit</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--product info end-->
        <!--product area start-->
        <section class="product_area related_products">
            <div class="row">
                <div class="col-12">
                    <div class="section_title psec_title">
                        <h2>Sản phẩm nổi bật</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="product_carousel product_column5 owl-carousel">
                    @foreach (ProductViewModel item in Model.ProductLists)
                    {
                        @foreach (ProductImageViewModel itemImages in Model.productImages)
                        {
                            <div class="col-lg-3">
                                <article class="single_product">
                                    <figure>
                                        <div class="product_thumb">
                                            <a class="primary_img" asp-action="ProductDetail" asp-controller="Product" asp-route-ProductDetailUrl="@item.ProductTitleURL"><img src="@itemImages.FilePath" alt="@item.ProductName"></a>
                                            @if (item.OwenSale == true)
                                            {
                                                <div class="label_product">
                                                    <span class="label_sale">Sale</span>
                                                </div>
                                            }
                                            <div class="action_links">
                                                <ul>
                                                    <li class="wishlist"><a title="sản phẩm yêu thích" onclick="wishProduct(@item.Id)"><i class="fa fa-heart-o" aria-hidden="true"></i></a></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <figcaption class="product_content">
                                            <h4 class="product_name"><a title="@item.ProductTitleURL" asp-action="ProductDetail" asp-controller="Product" asp-route-ProductDetailUrl="@item.ProductTitleURL">@item.ProductName</a></h4>
                                            <div class="product_rating">
                                                <ul>
                                                    <li><a href="#"><i class="fa fa-star" aria-hidden="true"></i></a></li>
                                                    <li><a href="#"><i class="fa fa-star" aria-hidden="true"></i></a></li>
                                                    <li><a href="#"><i class="fa fa-star" aria-hidden="true"></i></a></li>
                                                    <li><a href="#"><i class="fa fa-star" aria-hidden="true"></i></a></li>
                                                    <li><a href="#"><i class="fa fa-star" aria-hidden="true"></i></a></li>
                                                </ul>
                                            </div>
                                            <div class="price_box">
                                                <span class="old_price">@item.RetailPrice.ToString("n0") đ</span>
                                                <span class="current_price">@item.SalePrice.ToString("n0") đ</span>
                                            </div>
                                            <div class="add_to_cart">
                                                <a asp-route="addcart" asp-route-id="@Model.Products.Id" title="Đặt Hàng"><i class="fa fa-shopping-cart" aria-hidden="true"></i>Đặt Hàng</a>
                                            </div>
                                        </figcaption>
                                    </figure>
                                </article>
                            </div>
                        }
                    }
                </div>
            </div>
        </section>
        <!--product area end-->
    </div>
</div>


@section Scripts {
    <script>
        function wishProduct(id) {
            $.ajax({
                type: "POST",
                url: "@Url.Action("WishList","Product")",
                data: {
                    productid: id
                },
                success: function(result) {

                }
            });
        }

        function PagerClick(index) {
            document.getElementById("hfCurrentPageIndex").value = index;
            document.getElementById('theForm').submit();
        }
    </script>
}